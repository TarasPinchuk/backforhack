{"openapi":"3.1.0","info":{"title":"City Guide — Places Service","description":"Минимальный сервис для хранения и выдачи мест (places) — самостоятельный, без авторизации, с автогенерацией Swagger.","version":"0.1.0"},"paths":{"/health":{"get":{"tags":["system"],"summary":"Health","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/places":{"post":{"tags":["places"],"summary":"Create Place","operationId":"create_place_places_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlaceCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlaceOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["places"],"summary":"List Places","operationId":"list_places_places_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PlaceOut"},"title":"Response List Places Places Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/places/{place_id}":{"get":{"tags":["places"],"summary":"Get Place","operationId":"get_place_places__place_id__get","parameters":[{"name":"place_id","in":"path","required":true,"schema":{"type":"string","title":"Place Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlaceOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["places"],"summary":"Patch Place","operationId":"patch_place_places__place_id__patch","parameters":[{"name":"place_id","in":"path","required":true,"schema":{"type":"string","title":"Place Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlacePatch"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlaceOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["places"],"summary":"Delete Place","operationId":"delete_place_places__place_id__delete","parameters":[{"name":"place_id","in":"path","required":true,"schema":{"type":"string","title":"Place Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"PlaceCreate":{"properties":{"name":{"type":"string","title":"Name","description":"Название места","examples":["Кофейня «Маяк»"]},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Описание"},"photos":{"anyOf":[{"items":{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},"type":"array"},{"type":"null"}],"title":"Photos","description":"Список ссылок на фото","examples":[["https://cdn.example.com/p/1.jpg","https://cdn.example.com/p/2.jpg"]]},"review_widget_url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"null"}],"title":"Review Widget Url","description":"Ссылка на виджет отзывов","examples":["https://reviews.example.com/widget?id=123"]},"lat":{"type":"number","maximum":90.0,"minimum":-90.0,"title":"Lat","description":"Широта","examples":[55.7558]},"lon":{"type":"number","maximum":180.0,"minimum":-180.0,"title":"Lon","description":"Долгота","examples":[37.6173]}},"type":"object","required":["name","lat","lon"],"title":"PlaceCreate"},"PlaceOut":{"properties":{"id":{"type":"string","title":"Id","description":"Идентификатор места (Mongo ObjectId)"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"photos":{"items":{"type":"string"},"type":"array","title":"Photos"},"review_widget_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Review Widget Url"},"lat":{"type":"number","title":"Lat"},"lon":{"type":"number","title":"Lon"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","name","lat","lon","created_at","updated_at"],"title":"PlaceOut"},"PlacePatch":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Название"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Описание"},"photos":{"anyOf":[{"items":{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},"type":"array"},{"type":"null"}],"title":"Photos","description":"Ссылки на фото"},"review_widget_url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"null"}],"title":"Review Widget Url","description":"URL виджета отзывов"},"lat":{"anyOf":[{"type":"number","maximum":90.0,"minimum":-90.0},{"type":"null"}],"title":"Lat","description":"Широта"},"lon":{"anyOf":[{"type":"number","maximum":180.0,"minimum":-180.0},{"type":"null"}],"title":"Lon","description":"Долгота"}},"type":"object","title":"PlacePatch"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}